---
title: "Oumayma's Questions"
output: html_document
date: "2025-11-25"
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```

## 2. Does time of day relate to acceptance? 

Variables (Description): time (categorical: 5 levels — morning, afternoon, evening, late night, unknown); acceptance (binary)	

Data Type: Multi-level categorical on binary outcome	

Planned Method of Analysis: One-way ANOVA on mean acceptance rates by time of day	

Hypotheses (H₀ / Hₐ): 
  - H₀: Mean acceptance is the same across all times of day.
  - Hₐ: At least one time-of-day group has a different mean acceptance.

```{r}
# Load data 
data <- read.csv("in-vehicle-coupon-rec.csv")
head(data)
```

```{r}
# Time order
data$time <- factor(data$time, 
                    levels = c("7AM", "10AM", "2PM", "6PM", "10PM"),
                    ordered = TRUE)

# The table shows the % of acceptances for each time slot
(round(prop.table(table(data$time, data$Y), margin = 1), 3) * 100)[, "1"] 

# One-way ANOVA — exactly the method the assignment asked for
anova_result <- aov(Y ~ time, data = data) # (We treat Y as numeric 0/1, so the mean = acceptance rate)
summary(anova_result)# If p < 0.05 then yes, time of day is related to acceptance
```

The one-way ANOVA revealed a highly significant effect of time of day on coupon acceptance, F(4, 12679) = 44.37, p < 2e-16. We therefore reject the null hypothesis and conclude that acceptance rates vary significantly depending on the time the coupon is offered. Acceptance was highest at 2 PM (66.2%), followed by 10 AM (60.8%) and 6 PM (58.5%), and clearly lower in the early morning at 7 AM (50.2%) and especially late at night at 10 PM (50.8%). Overall, customers are substantially more likely to accept coupons during the late morning, midday, and early evening hours than in the early morning or late night. In practical terms, coupon distribution should be concentrated between 10 AM and 6 PM, with peak effectiveness around 2 PM, and minimized during the 7 AM and 10 PM periods.



## 4. Is acceptance different by coupon type?	

Variables (Description): coupon (categorical: 4 levels — bar, coffee house, <$20 restaurant, $20–$50 restaurant); acceptance (binary)

Data Type: Categorical predictor with four levels	One-way ANOVA on acceptance means by coupon category	

Hypotheses (H₀ / Hₐ): 
  - H₀: Mean acceptance is equal across all coupon types.
  - Hₐ: At least one coupon type has a different mean acceptance.

```{r}
# 'coupon' is treated as a categorical variable (factor)
data$coupon <- factor(data$coupon)

(round(100 * prop.table(table(data$coupon, data$Y), margin = 1), 1)[, "1"])# shows which coupon works best
  
# One-way ANOVA 
summary(aov(Y ~ coupon, data = data)) # treat Y as 0/1 numbers, so the group mean = acceptance rate
# Look at the p-value in the last column: if p < 0.05 ....> YES, acceptance differs by coupon type
```


The one-way ANOVA revealed a highly significant effect of coupon type on acceptance rate, F(4, 12679) = 234.5, p < 2e-16. We therefore reject the null hypothesis and conclude that acceptance rates differ substantially across coupon types. Customers are far more likely to accept Carry out & Take away coupons (73.5%) and Restaurant(<20) coupons (70.7%) than any other type. Acceptance drops noticeably for Coffee House coupons (49.9%) and is lowest for Restaurant(20–50) (44.1%) and Bar coupons (41.0%). In practical terms, inexpensive, quick, and convenient food offers are redeemed at dramatically higher rates, whereas coupons for mid-range restaurants and bars yield the poorest return. To maximize redemption rates, marketing efforts should prioritize Carry out & Take away and cheap restaurant (<20) coupons and de-emphasize bar and 20–50 restaurant promotions. 













